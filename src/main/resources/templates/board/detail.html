<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultrap.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<body>

<div layout:fragment="content">

  <th:block th:with="boardVO=${boardFileDTO.boardVO}">
  [[${boardFileDTO}]]

    <div>
      <p>조회수: <span th:text="${boardVO.readCount}">0</span></p>
      <p>찜수: <span id="likeCount">[[${boardVO.likeCount}]]</span></p>
    </div>

    <!-- 찜하기 버튼 상태 설정 -->
    <button type="button" id="wishBtn"
            th:data-board-id="${boardVO.boardId}"
            th:text="${isAlreadyWished != null ? (isAlreadyWished ? '찜 취소' : '찜하기') : '찜하기'}">
    </button>



    <button id="paymentBtn">결제하기</button>
    <button id="cancelBtn">결제 취소</button>

    <button type="button" id="modBtn">수정</button>
    <a th:href="@{/board/delete(boardId=${boardVO.boardId})}"><button type="button" id="delBtn">글삭제</button></a>

    <script th:inline="javascript">
      /*<![CDATA[*/
      var boardFileDTO = [[${boardFileDTO}]];
      /*]]>*/
    </script>

    <script th:inline="javascript">
      /*<![CDATA[*/
      var boardId = [[${boardVO.boardId}]];
      /*]]>*/
          /*<![CDATA[*/
      var tradeFlag = [[${boardVO.tradeFlag}]];
      /*]]>*/
    </script>

    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <script th:src="@{/js/buy.js}"></script>
    <script th:src="@{/js/productBoardDetail.js}"></script>


  </th:block>



</div>


</body>
